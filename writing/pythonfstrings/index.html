<!DOCTYPE html>
<html lang="en">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.55.6" />

    
    
    

<title>Best of Python 3 f-strings • Nirant Kasliwal</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Best of Python 3 f-strings"/>
<meta name="twitter:description" content="Python f-string Primer"/>

<meta property="og:title" content="Best of Python 3 f-strings" />
<meta property="og:description" content="Python f-string Primer" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nirantk.com/writing/pythonfstrings/" />
<meta property="article:published_time" content="2019-08-27T23:29:18&#43;05:30"/>
<meta property="article:modified_time" content="2019-08-27T23:29:18&#43;05:30"/>


    


<link rel="stylesheet" href="/css/syntax.min.css">






<link rel="stylesheet" href="/scss/hyde-hyde.92c66d107d7b219f0792cfd67223179af884b03f386ac46894f9f735932bbca3.css" integrity="sha256-ksZtEH17IZ8Hks/WciMXmviEsD84asRolPn3NZMrvKM=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://nirantk.com/">Nirant Kasliwal</a>
      </span>
      
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Nirant Kasliwal</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/about">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/">
						<span>Home</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/now">
						<span>Now</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/writing">
						<span>Writing</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Best of Python 3 f-strings</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Aug 27, 2019
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/python">python</a>
           
      
          <a class="badge badge-tag" href="/tags/tech">tech</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 4 min read
</div>


  </header>
  
  
  <div class="post">
    

<p>This piece is primarily meant for those new to Python. These include mathematicians, economists, and so on who want to use Python within a Jupyter environment. Here is a quick guide on how to make <a href="https://github.com/NirantK/best-of-jupyter">Best of Jupyter</a>.</p>

<h2 id="quick-primer">Quick Primer</h2>

<p>If you are familiar with earlier Python versions, here are my top picks on how to move from .format () to this new one:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">_fstring <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#39;Total: {one + two}&#39;</span>  <span style="color:#75715e"># Go f-string!</span>
_format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Total: {}&#39;</span><span style="color:#f92672">.</span>format(one <span style="color:#f92672">+</span> two)
_percent <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Total: </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (one <span style="color:#f92672">+</span> two)
_concatenation <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Total: &#39;</span> <span style="color:#f92672">+</span> str(one <span style="color:#f92672">+</span> two)
<span style="color:#66d9ef">assert</span> _fstring <span style="color:#f92672">==</span> _format <span style="color:#f92672">==</span> _percent <span style="color:#f92672">==</span> _concatenation</code></pre></div>

<h2 id="f-string-magic">f-string Magic</h2>

<p>f-strings are how you should use print statements in Python. It is fairly reminiscent of LaTeX in it’s inline notation:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># inline variables, similar to LaTeX</span>
name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Fred&#34;</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;He said his name is {name}.&#34;</span>)
<span style="color:#75715e"># &#39;He said his name is Fred.&#39;</span></code></pre></div></p>

<p>Notice how the variable <em>name</em> can now be used inline. This is a simple and easy to use syntax: just include the variable in surrounding <em>{}</em> while marking the string type as f-string using the ‘_f_’ in the beginning.</p>

<p><em>Note to the advanced programmer</em>:</p>

<p>‘f’ may be combined with ‘r’ to produce raw f-string which can be used inside regex or similar functions. ‘f’ may not be combined with ‘u’, this is because all Python3.6+ strings are Unicode by default now. This means, you can write fstrings in Hindi, Chinese, French, Korean and atleast 10 other languages.</p>

<blockquote>
<p>You can write fstrings in Hindi, Chinese, French, Korean and any language covered by Unicode.</p>
</blockquote>

<p>But why are these called formatted-strings in the first place? Because you can use with some cool formatting hacks.</p>

<h2 id="simplified-alignment-and-spacing">Simplified Alignment and Spacing</h2>

<p>Have you ever tried creating a table such as that for logging or visualization? Arranging the elements becomes a nightmare with several <code>\t</code> tab characters flying around.</p>

<p>This is much easier with Python f-strings using the colon ‘:’ operator, followed by a an alignment operator and field width value.</p>

<p>There are atleast 3 alignment operator: &lt; for left aligned, &gt; for right aligned, and ^ for center aligned. Refer the code example:</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">correct <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;correct&#39;</span>
phonetic_correct <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;phonetic_correct&#39;</span>
typo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;typo&#39;</span>
phonetic_typo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;phonetic_typo&#39;</span>
phonetic_distance <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;phonetic_distance&#39;</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;No Spacing:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct}|{phonetic_correct}|{typo}|{phonetic_typo}|{phonetic_distance}|</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
<span style="color:#75715e"># No Spacing:</span>
<span style="color:#75715e"># correct|phonetic_correct|typo|phonetic_typo|phonetic_distance|</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Right Aligned:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct:&gt;10}|{phonetic_correct:&gt;20}|{typo:&gt;10}|{phonetic_typo:&gt;20}|{phonetic_distance:&gt;20}|</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
<span style="color:#75715e"># Right Aligned:</span>
<span style="color:#75715e">#    correct|    phonetic_correct|      typo|       phonetic_typo|   phonetic_distance|</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Left Aligned:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct:&lt;10}|{phonetic_correct:&lt;20}|{typo:&lt;10}|{phonetic_typo:&lt;20}|{phonetic_distance:&lt;20}|</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>) 
<span style="color:#75715e"># Left Aligned:</span>
<span style="color:#75715e"># correct   |phonetic_correct    |typo      |phonetic_typo       |phonetic_distance   |</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Centre Aligned:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct:^10}|{phonetic_correct:^20}|{typo:^10}|{phonetic_typo:^20}|{phonetic_distance:^20}|&#39;</span>) 
<span style="color:#75715e"># Centre Aligned:</span>
<span style="color:#75715e">#  correct  |  phonetic_correct  |   typo   |   phonetic_typo    | phonetic_distance  |</span></code></pre></div></p>

<p>You also have support for decimal truncation and similar standard formatting utilities:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># auto-resolve variable scope when nested</span>
width <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
precision <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
value <span style="color:#f92672">=</span> decimal<span style="color:#f92672">.</span>Decimal(<span style="color:#e6db74">&#34;12.34567&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;result: {value:{width}.{precision}}&#34;</span>)  <span style="color:#75715e"># nested fields</span>
<span style="color:#75715e"># &#39;result:      12.35&#39;</span></code></pre></div></p>

<p>You might notice something interesting here: width and precision are automatically picked up from the scope. This means you can calculate width and precision using screen width or other inputs from system and use that.</p>

<h2 id="full-python-expressions-support">Full Python Expressions Support</h2>

<p>The above is only possible because the expression inside {} is actually being evaluated, or in programming terms: being executed.</p>

<p>This implies, that you can make any function call from within those {}.</p>

<p>Though, you should avoid doing this in practice very often because it might make your debugging very difficult. Instead, store the returned value from function in a variable and then add the variable in a fstring print statement.</p>

<p>Those coming from functional programming might miss their lambda functions. Don’t worry, Python has you covered:</p>

<h2 id="lambda-functions-in-f-strings">Lambda Functions in f-strings</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># If you feel you must use lambdas, they may be used inside of parentheses:</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{(lambda x: x*3)(3)}&#39;</span>)
<span style="color:#75715e"># &#39;9&#39;</span>
<span style="color:#75715e"># note that this returned a &lt;str&gt; and not &lt;int&gt;</span></code></pre></div>

<h1 id="summary">Summary</h1>

<ul>
<li>f strings mean you can include variables and function calls inside your print statements</li>
<li>Inline variables: these are easier to read and debug for the developer</li>
<li><strong><em>Use f-strings when you can</em></strong>!</li>
</ul>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/writing/silentriseofpytorch/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">The Silent Rise of PyTorch Ecosystem</span>
    </a>
    
    
    <a href="/writing/reflectedglory/" class="navigation-next">
      <span class="navigation-tittle">Don&#39;t Bask in Reflected Glory</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  


<div class="post__related">
    
    <h2>Related Articles</h2>
    <ul class="related-posts">
        
<li>
  <span class="list__title--small">
    <a href="/writing/silentriseofpytorch/" >The Silent Rise of PyTorch Ecosystem</a>
      
      <time class="pull-right hidden-tablet">Aug 27 &#39;19</time>
      
  </span>
</li>

<li>
  <span class="list__title--small">
    <a href="/writing/techtalktips/" >Tech Talk Tips</a>
      
      <time class="pull-right hidden-tablet">Aug 05 &#39;19</time>
      
  </span>
</li>

<li>
  <span class="list__title--small">
    <a href="/writing/datasciencejob/" >How to prepare for a Data Science job from college?</a>
      
      <time class="pull-right hidden-tablet">Dec 12 &#39;16</time>
      
  </span>
</li>


    </ul>
</div>



  
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>


    
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
