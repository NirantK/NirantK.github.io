<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="">
<meta name="description"
    content="This piece is primarily meant for those new to Python. These include mathematicians, economists, and so on who want to use Python within a Jupyter environment. Here is a quick guide on how to make Best of Jupyter.
Quick Primer If you are familiar with earlier Python versions, here are my top picks on how to move from .format () to this new one:
_fstring = f&amp;#39;Total: {one &#43; two}&amp;#39; # Go f-string!" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://nirantk.com/writing/pythonfstrings/" />


<title>
    
    Best of Python 3 f-strings :: Nirant Kasliwal 
    
</title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.7bfbbe12786fa0ded4b4c0d792cbb36a5bd0bdb0b856dde57aa7b1f6fe0f2b87.css">



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#252627">
<meta itemprop="name" content="Best of Python 3 f-strings">
<meta itemprop="description" content="Python f-string Primer">


<meta itemprop="datePublished" content="2019-08-27T23:29:18&#43;05:30" />
<meta itemprop="dateModified" content="2019-08-27T23:29:18&#43;05:30" />
<meta itemprop="wordCount" content="646">



<meta itemprop="keywords" content="python,tech," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Best of Python 3 f-strings"/>
<meta name="twitter:description" content="Python f-string Primer"/>




<meta property="article:published_time" content="2019-08-27 23:29:18 &#43;0530 IST" />







    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://nirantk.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">hello</span>
            <span class="logo__cursor"></span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://nirantk.com/about">about</a></li><li><a href="https://nirantk.com/">home</a></li><li><a href="https://nirantk.com/now">now</a></li><li><a href="https://nirantk.com/writing">writing</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://nirantk.com/writing/pythonfstrings/">Best of Python 3 f-strings</a></h2>
                <hr />
                <aside id="toc">
                <div class="toc-title">Table of Contents</div>
                    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#quick-primer">Quick Primer</a></li>
<li><a href="#f-string-magic">f-string Magic</a></li>
<li><a href="#simplified-alignment-and-spacing">Simplified Alignment and Spacing</a></li>
<li><a href="#full-python-expressions-support">Full Python Expressions Support</a></li>
<li><a href="#lambda-functions-in-f-strings">Lambda Functions in f-strings</a></li>
</ul></li>
<li><a href="#summary">Summary</a></li>
</ul>
</nav>
                </aside>
                <hr />

            

            <div class="post-content">
                

<p>This piece is primarily meant for those new to Python. These include mathematicians, economists, and so on who want to use Python within a Jupyter environment. Here is a quick guide on how to make <a href="https://github.com/NirantK/best-of-jupyter">Best of Jupyter</a>.</p>

<h2 id="quick-primer">Quick Primer</h2>

<p>If you are familiar with earlier Python versions, here are my top picks on how to move from .format () to this new one:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">_fstring <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#39;Total: {one + two}&#39;</span>  <span style="color:#75715e"># Go f-string!</span>
_format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Total: {}&#39;</span><span style="color:#f92672">.</span>format(one <span style="color:#f92672">+</span> two)
_percent <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Total: </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (one <span style="color:#f92672">+</span> two)
_concatenation <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Total: &#39;</span> <span style="color:#f92672">+</span> str(one <span style="color:#f92672">+</span> two)
<span style="color:#66d9ef">assert</span> _fstring <span style="color:#f92672">==</span> _format <span style="color:#f92672">==</span> _percent <span style="color:#f92672">==</span> _concatenation</code></pre></div>

<h2 id="f-string-magic">f-string Magic</h2>

<p>f-strings are how you should use print statements in Python. It is fairly reminiscent of LaTeX in it’s inline notation:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># inline variables, similar to LaTeX</span>
name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Fred&#34;</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;He said his name is {name}.&#34;</span>)
<span style="color:#75715e"># &#39;He said his name is Fred.&#39;</span></code></pre></div></p>

<p>Notice how the variable <em>name</em> can now be used inline. This is a simple and easy to use syntax: just include the variable in surrounding <em>{}</em> while marking the string type as f-string using the ‘_f_’ in the beginning.</p>

<p><em>Note to the advanced programmer</em>:</p>

<p>‘f’ may be combined with ‘r’ to produce raw f-string which can be used inside regex or similar functions. ‘f’ may not be combined with ‘u’, this is because all Python3.6+ strings are Unicode by default now. This means, you can write fstrings in Hindi, Chinese, French, Korean and atleast 10 other languages.</p>

<blockquote>
<p>You can write fstrings in Hindi, Chinese, French, Korean and any language covered by Unicode.</p>
</blockquote>

<p>But why are these called formatted-strings in the first place? Because you can use with some cool formatting hacks.</p>

<h2 id="simplified-alignment-and-spacing">Simplified Alignment and Spacing</h2>

<p>Have you ever tried creating a table such as that for logging or visualization? Arranging the elements becomes a nightmare with several <code>\t</code> tab characters flying around.</p>

<p>This is much easier with Python f-strings using the colon ‘:’ operator, followed by a an alignment operator and field width value.</p>

<p>There are atleast 3 alignment operator: &lt; for left aligned, &gt; for right aligned, and ^ for center aligned. Refer the code example:</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">correct <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;correct&#39;</span>
phonetic_correct <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;phonetic_correct&#39;</span>
typo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;typo&#39;</span>
phonetic_typo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;phonetic_typo&#39;</span>
phonetic_distance <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;phonetic_distance&#39;</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;No Spacing:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct}|{phonetic_correct}|{typo}|{phonetic_typo}|{phonetic_distance}|</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
<span style="color:#75715e"># No Spacing:</span>
<span style="color:#75715e"># correct|phonetic_correct|typo|phonetic_typo|phonetic_distance|</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Right Aligned:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct:&gt;10}|{phonetic_correct:&gt;20}|{typo:&gt;10}|{phonetic_typo:&gt;20}|{phonetic_distance:&gt;20}|</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
<span style="color:#75715e"># Right Aligned:</span>
<span style="color:#75715e">#    correct|    phonetic_correct|      typo|       phonetic_typo|   phonetic_distance|</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Left Aligned:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct:&lt;10}|{phonetic_correct:&lt;20}|{typo:&lt;10}|{phonetic_typo:&lt;20}|{phonetic_distance:&lt;20}|</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>) 
<span style="color:#75715e"># Left Aligned:</span>
<span style="color:#75715e"># correct   |phonetic_correct    |typo      |phonetic_typo       |phonetic_distance   |</span></code></pre></div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Centre Aligned:&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{correct:^10}|{phonetic_correct:^20}|{typo:^10}|{phonetic_typo:^20}|{phonetic_distance:^20}|&#39;</span>) 
<span style="color:#75715e"># Centre Aligned:</span>
<span style="color:#75715e">#  correct  |  phonetic_correct  |   typo   |   phonetic_typo    | phonetic_distance  |</span></code></pre></div></p>

<p>You also have support for decimal truncation and similar standard formatting utilities:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># auto-resolve variable scope when nested</span>
width <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
precision <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
value <span style="color:#f92672">=</span> decimal<span style="color:#f92672">.</span>Decimal(<span style="color:#e6db74">&#34;12.34567&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;result: {value:{width}.{precision}}&#34;</span>)  <span style="color:#75715e"># nested fields</span>
<span style="color:#75715e"># &#39;result:      12.35&#39;</span></code></pre></div></p>

<p>You might notice something interesting here: width and precision are automatically picked up from the scope. This means you can calculate width and precision using screen width or other inputs from system and use that.</p>

<h2 id="full-python-expressions-support">Full Python Expressions Support</h2>

<p>The above is only possible because the expression inside {} is actually being evaluated, or in programming terms: being executed.</p>

<p>This implies, that you can make any function call from within those {}.</p>

<p>Though, you should avoid doing this in practice very often because it might make your debugging very difficult. Instead, store the returned value from function in a variable and then add the variable in a fstring print statement.</p>

<p>Those coming from functional programming might miss their lambda functions. Don’t worry, Python has you covered:</p>

<h2 id="lambda-functions-in-f-strings">Lambda Functions in f-strings</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># If you feel you must use lambdas, they may be used inside of parentheses:</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{(lambda x: x*3)(3)}&#39;</span>)
<span style="color:#75715e"># &#39;9&#39;</span>
<span style="color:#75715e"># note that this returned a &lt;str&gt; and not &lt;int&gt;</span></code></pre></div>

<h1 id="summary">Summary</h1>

<ul>
<li>f strings mean you can include variables and function calls inside your print statements</li>
<li>Inline variables: these are easier to read and debug for the developer</li>
<li><strong><em>Use f-strings when you can</em></strong>!</li>
</ul>

            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://nirantk.com/tags/python">python</a></span><span class="tag"><a href="https://nirantk.com/tags/tech">tech</a></span>
  				</p>
  			</div>

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
            <span></span>
            <span> <a href="https://nirantk.com/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">

        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">rhazdon</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.9e52e68b082cf2a30a7fead88260edb8818fbd7f7831e39674917d4539ec75df41ba88eaddfbd916594ab4fb2a31913b46cf2d6094cf80381edb8c632512a8ca.js" integrity="sha512-nlLmiwgs8qMKf&#43;rYgmDtuIGPvX94MeOWdJF9RTnsdd9Buojq3fvZFllKtPsqMZE7Rs8tYJTPgDge24xjJRKoyg=="></script>



    </body>
</html>
